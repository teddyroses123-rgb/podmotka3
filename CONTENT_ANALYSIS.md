# –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–∞–π—Ç–∞

## –í–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤–µ—Ä—Å–∏–∏ —Å–∞–π—Ç–∞

### 1. **Supabase –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ü–†–ò–û–†–ò–¢–ï–¢)**
- **–§–∞–π–ª**: `src/utils/supabase.ts` - —Ñ—É–Ω–∫—Ü–∏—è `loadContentFromDatabase()`
- **–õ–æ–≥–∏–∫–∞**: –í—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ü–ï–†–í–´–ú –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `site_content` —Å `id='main'`
- **–ö–æ–¥**:
```typescript
const { data, error } = await supabase
  .from('site_content')
  .select('content')
  .eq('id', 'main')
  .maybeSingle();
```

### 2. **localStorage (–ë–ï–ö–ê–ü)**
- **–§–∞–π–ª**: `src/utils/contentStorage.ts` - —Ñ—É–Ω–∫—Ü–∏—è `loadContent()`
- **–õ–æ–≥–∏–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ë–î –ø—É—Å—Ç–∞ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- **–ö–ª—é—á**: `'siteContent'`

### 3. **–î–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (–ü–û–°–õ–ï–î–ù–ò–ô –†–ï–ó–ï–†–í)**
- **–§–∞–π–ª**: `src/data/defaultContent.ts`
- **–õ–æ–≥–∏–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞—è—Ö

## –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ (–∏–∑ contentStorage.ts):

```typescript
export const loadContent = async (): Promise<SiteContent> => {
  try {
    console.log('üåê –ó–ê–ì–†–£–ó–ö–ê –ò–ó –ì–õ–û–ë–ê–õ–¨–ù–û–ô –ë–î (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)...');
    
    // –ü–†–ò–û–†–ò–¢–ï–¢: –í—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ë–î
    const dbContent = await loadContentFromDatabase();
    if (dbContent) {
      console.log('‚úÖ –ö–û–ù–¢–ï–ù–¢ –ó–ê–ì–†–£–ñ–ï–ù –ò–ó –ì–õ–û–ë–ê–õ–¨–ù–û–ô –ë–î');
      const fixedContent = fixBlockOrder(dbContent);
      // –û–±–Ω–æ–≤–ª—è–µ–º –±–µ–∫–∞–ø –≤ localStorage
      localStorage.setItem(STORAGE_KEY, JSON.stringify(fixedContent));
      console.log('üíæ –ë–µ–∫–∞–ø –æ–±–Ω–æ–≤–ª–µ–Ω –≤ localStorage');
      return fixedContent;
    }
    
    // –ï—Å–ª–∏ –ë–î –ø—É—Å—Ç–∞ - –ø—Ä–æ–≤–µ—Ä—è–µ–º localStorage
    const backupContent = localStorage.getItem(STORAGE_KEY);
    if (backupContent) {
      console.log('üíæ –ò–°–ü–û–õ–¨–ó–£–ï–ú –ë–ï–ö–ê–ü –ò–ó localStorage (–ë–î –ø—É—Å—Ç–∞)');
      const content = JSON.parse(backupContent);
      const fixedContent = fixBlockOrder(content);
      
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –±–µ–∫–∞–ø –≤ –ë–î —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
      if (!isDefaultContent(fixedContent)) {
        console.log('üîÑ –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –ë–î –∏–∑ –±–µ–∫–∞–ø–∞...');
        await saveContentToDatabase(fixedContent);
      }
      
      return fixedContent;
    }
    
    // –¢–û–õ–¨–ö–û –í –ö–†–ê–ô–ù–ï–ú –°–õ–£–ß–ê–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –ë–ï–ó –°–û–•–†–ê–ù–ï–ù–ò–Ø –í –ë–î
    console.log('üÜò –ö–†–ê–ô–ù–ò–ô –°–õ–£–ß–ê–ô: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –ë–ï–ó –°–û–•–†–ê–ù–ï–ù–ò–Ø –í –ë–î');
    return fixBlockOrder(defaultContent);
    
  } catch (error) {
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  }
};
```

## –í—ã–≤–æ–¥: –û—Ç–∫—É–¥–∞ –ø–æ–¥—Ç—è–Ω—É–ª–∞—Å—å –≤–µ—Ä—Å–∏—è

**–ù–ê–ò–ë–û–õ–ï–ï –í–ï–†–û–Ø–¢–ù–û** - –∏–∑ **Supabase –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. ‚úÖ **–ë–î –∏–º–µ–µ—Ç –Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π
2. ‚úÖ **–ö–æ–Ω—Ç–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
3. ‚úÖ **–ë–î –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞** –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ –∏ –¥–∏–∞–ª–æ–≥–∞–º–∏
4. ‚úÖ **localStorage –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –∏–∑ –ë–î –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∑–∞–≥—Ä—É–∑–∫–µ

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console**
2. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É**
3. **–ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏**:
   - `üåê –ó–ê–ì–†–£–ó–ö–ê –ò–ó –ì–õ–û–ë–ê–õ–¨–ù–û–ô –ë–î (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)...`
   - `‚úÖ –ö–û–ù–¢–ï–ù–¢ –ó–ê–ì–†–£–ñ–ï–ù –ò–ó –ì–õ–û–ë–ê–õ–¨–ù–û–ô –ë–î` ‚Üê **–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ - –∏—Å—Ç–æ—á–Ω–∏–∫ –ë–î**
   - `üíæ –ò–°–ü–û–õ–¨–ó–£–ï–ú –ë–ï–ö–ê–ü –ò–ó localStorage` ‚Üê **–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ - –∏—Å—Ç–æ—á–Ω–∏–∫ localStorage**

## –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î:

–ü–æ—Å–ª–µ–¥–Ω—è—è –º–∏–≥—Ä–∞—Ü–∏—è `20250919221357_heavy_dream.sql` **–û–ß–ò–©–ê–õ–ê** –ë–î:
```sql
-- –û—á–∏—â–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —Å–∞–π—Ç–∞
DELETE FROM site_content WHERE id = 'main';
```

**–ù–û** –µ—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –±—ã–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∫–æ–Ω—Ç–µ–Ω—Ç - –æ–Ω –æ—Å—Ç–∞–ª—Å—è –≤ –ë–î –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ.